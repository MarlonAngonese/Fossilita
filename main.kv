#:kivy 2.1.0

Manager:

<Manager>

    # Primeira tela a carregar, o resto são listas de telas válidas
    ResultadoFossaScreen:
        name: "resultado_fossa"
    HomeScreen:
        name: "home"
    InformacoesImportantesScreen:
        name: "informacoes_importantes"
    CalculoDeVolumeScreen:
        name: "calculo_de_volume"
    TipoDeEdificacaoScreen:
        name: "tipo_de_edificacao"

<HomeScreen>
    MDFloatLayout:

        MDTopAppBar:
            title: "Fossilita"
            pos_hint: {"top": 1}
            left_action_items: [["check-bold"]]
            right_action_items: [["home"]]

        MDLabel:
            text: "Olá,"
            font_style: "H3"
            pos_hint: {"center_x": .6, "center_y": .75}
            color: '#35506d'
        
        MDLabel:
            text: "como posso ajudar?"
            font_style: "H6"
            pos_hint: {"center_x": .6, "center_y": .69}
            color: '#35506d'

        MDRaisedButton:
            text: "Fossa Séptica"
            pos_hint: {"center_x": .5, "center_y": .58}
            size_hint_x: 0.8
            on_release:
                app.screenmanager.current = "calculo_de_volume"
                app.screenmanager.transition.direction = "left"
        
        MDRaisedButton:
            text: "Filtro Anaeróbio"
            pos_hint: {"center_x": .5, "center_y": .48}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Sumidouro/Vala de Infiltração"
            pos_hint: {"center_x": .5, "center_y": .38}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Informações Importantes"
            pos_hint: {"center_x": .5, "center_y": .28}
            size_hint_x: 0.8
            on_release:
                app.screenmanager.current = "informacoes_importantes"
                app.screenmanager.transition.direction = "left"

<InformacoesImportantesScreen>
    MDFloatLayout:

        MDTopAppBar:
            title: "Fossilita"
            pos_hint: {"top": 1}
            left_action_items: [["arrow-left", lambda x: app.return_right_to('home')],["check-bold"]]
            right_action_items: [["home", lambda x: app.return_to_home()]]

        MDLabel:
            text: "Olá! Sobre o que você quer ler?"
            font_style: "H6"
            pos_hint: {"center_x": .6, "center_y": .8}
            color: '#35506d'

        MDRaisedButton:
            text: "Sistema de Tratamento"
            pos_hint: {"center_x": .5, "center_y": .7}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Intervalo de Limpeza"
            pos_hint: {"center_x": .5, "center_y": .62}
            size_hint_x: 0.8
        
        MDRaisedButton:
            text: "Funcionamento do Tanque Séptico"
            pos_hint: {"center_x": .5, "center_y": .54}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Dimensionamento de Tanque Séptico"
            pos_hint: {"center_x": .5, "center_y": .46}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Dimensionamento de Filtro Anaeróbio"
            pos_hint: {"center_x": .5, "center_y": .38}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Tipos de Sumidouro e Como Calcular"
            pos_hint: {"center_x": .5, "center_y": .30}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Dimensionamento de Vala de Infiltração"
            pos_hint: {"center_x": .5, "center_y": .22}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Manual de Boas Práticas"
            pos_hint: {"center_x": .5, "center_y": .14}
            size_hint_x: 0.8

<CalculoDeVolumeScreen>
    MDFloatLayout:

        MDTopAppBar:
            title: "Fossa Séptica"
            pos_hint: {"top": 1}
            left_action_items: [["arrow-left", lambda x: app.return_right_to('home')],["check-bold"]]
            right_action_items: [["home", lambda x: app.return_to_home()]]

        MDLabel:
            text: "Cálculo de Volume Útil"
            halign: "left"
            pos_hint: {"center_x": .5, "center_y": .82}
            size_hint_x: 0.79
            font_style: "H6"
            color: '#35506d'
            canvas.before:
                Color:
                    rgba: 0, 0, 1, 1
                Line:
                    width: 1
                    points: [self.x, self.height - self.y * 0.64, self.x + self.width, self.height - self.y * 0.64]

        MDLabel:
            text: "Tipo de Edificação"
            halign: "left"
            pos_hint: {"center_x": .6, "center_y": .74}
            font_style: "Caption"
            theme_text_color: "Secondary"

        MDLabel:
            id: label_numero_de
            text: "Número de Pessoas"
            halign: "left"
            pos_hint: {"center_x": .6, "center_y": .62}
            font_style: "Caption"
            theme_text_color: "Secondary"

        MDLabel:
            text: "Temperatura Média (C°)"
            halign: "left"
            pos_hint: {"center_x": .6, "center_y": .52}
            font_style: "Caption"
            theme_text_color: "Secondary"

        MDLabel:
            text: "Intervalo de Limpeza (anos)"
            halign: "left"
            pos_hint: {"center_x": .6, "center_y": .42}
            font_style: "Caption"
            theme_text_color: "Secondary"
        
        MDDropDownItem:
            id: dropdown_tipo_de_edificacao
            pos_hint: {"center_x": .5, "center_y": .69}
            size_hint_x: 0.81
            text: 'Selecione uma opção'
            font_size: '14sp'
            on_release: app.change_tipo_de_edificacao_screen()

        MDTextField:
            id: textbox_numero_de_pessoas
            pos_hint: {"center_x": .5, "center_y": .59}
            size_hint_x: 0.79
            input_filter: 'int'
            line_color_normal: 0, 0, 0, 0.2
            text_color_normal: 0, 0, 0, 1

        MDTextField:
            id: textbox_temperatura_media
            pos_hint: {"center_x": .5, "center_y": .49}
            size_hint_x: 0.79
            input_filter: 'int'
            line_color_normal: 0, 0, 0, 0.2
            text_color_normal: 0, 0, 0, 1

        MDTextField:
            id: textbox_intervalo_limpeza
            pos_hint: {"center_x": .5, "center_y": .39}
            size_hint_x: 0.79
            input_filter: 'int'
            line_color_normal: 0, 0, 0, 0.2
            text_color_normal: 0, 0, 0, 1

        MDLabel:
            text: "OBS: Recomenda-se que o intervalo entre as limpezas seja de 1 ano - principalmente em edificações uni e multifamiliares - para que, criando um hábito anual, você não esqueça nunca!"
            pos_hint: {"center_x": .5, "center_y": .27}
            text_size: self.width * 0.82, None
            size_hint: 1, None
            height: self.texture_size[1]
            font_style: "Caption"
            color: '#35506d'
            canvas.before:
                Color:
                    rgba: 0, .4, 1, .2
                Rectangle:
                    pos: (0, self.center_y - (self.center_y * 0.22))
                    size: (self.width, self.height + 20)

        MDRaisedButton:
            id: send_button
            text: "Mostre-me o resultado!"
            pos_hint: {"center_x": .5, "center_y": .15}
            size_hint_x: 0.8
            on_release: app.calculate_volume_util()

<TipoDeEdificacaoScreen>

    MDFloatLayout:

        MDTopAppBar:
            title: "Fossa Séptica"
            pos_hint: {"top": 1}
            left_action_items: [["arrow-left", lambda x: app.return_right_to('calculo_de_volume')], ["check-bold"]]
            right_action_items: [["home", lambda x: app.return_to_home()]]

        MDLabel:
            text: "Tipo de Edificação:"
            halign: "left"
            pos_hint: {"center_x": .5, "center_y": .8}
            size_hint_x: 0.79
            font_style: "H6"
            color: '#35506d'
            canvas.before:
                Color:
                    rgba: 0, 0, 1, 1
                Line:
                    width: 1
                    points: [self.x, self.height - self.y * 0.75, self.x + self.width, self.height - self.y * 0.75]

    MDBoxLayout:
        size_hint_x: .8
        orientation: 'vertical'
        adaptive_height: True
        pos_hint: {'top': .75, "center_x": .5}

        ScrollView:
            id: tipo_de_edificacao_scrollview
            size_hint: (1, None)

            MDList:
                OneLineListItem:
                    text: "Residência"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Alojamento Provisório"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Fábrica em Geral"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Escritório"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Edifícios Públicos ou Comerciais"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Escolas ou Locais de Longa Permanência"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Bares"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Restaurantes e Similares"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Cinemas, Teatros e Locais de Curta Permanência"
                    on_release: app.choose_option_tipo_de_edificacao(self)
                OneLineListItem:
                    text: "Sanitários Públicos"
                    on_release: app.choose_option_tipo_de_edificacao(self)

<ResultadoFossaScreen>

    MDFloatLayout:

        MDTopAppBar:
            title: "Fossa Séptica"
            pos_hint: {"top": 1}
            left_action_items: [["arrow-left", lambda x: app.return_right_to('calculo_de_volume')], ["check-bold"]]
            right_action_items: [["home", lambda x: app.return_to_home()]]

        MDLabel:
            text: "O volume útil ideal para sua fossa é de:"
            font_style: "H6"
            pos_hint: {"center_x": .5, "center_y": .8}
            color: '#35506d'
            text_size: self.width * 0.82, None
            size_hint: 1, None
            height: self.texture_size[1]

        MDLabel:
            id: label_resultado_fossa
            text: "12345,67 litros"
            font_style: "H4"
            pos_hint: {"center_x": .5, "center_y": .7}
            color: '#35506d'
            text_size: self.width * 0.82, None
            size_hint: 1, None
            height: self.texture_size[1]

        MDLabel:
            text: "Agora, você precisa dimensionar um tanque séptico que comporte tudo isso!"
            font_style: "H6"
            pos_hint: {"center_x": .5, "center_y": .58}
            color: '#35506d'
            text_size: self.width * 0.82, None
            size_hint: 1, None
            height: self.texture_size[1]

        MDLabel:
            text: "Por que não passa na nossa seção de Informações Importantes e confere as dicas e legislação pertinente?"
            font_style: "H6"
            pos_hint: {"center_x": .5, "center_y": .41}
            color: '#35506d'
            text_size: self.width * 0.82, None
            size_hint: 1, None
            height: self.texture_size[1]

        MDRaisedButton:
            text: "Me leve lá!"
            pos_hint: {"center_x": .5, "center_y": .25}
            size_hint_x: 0.8
            on_release: app.return_left_to('informacoes_importantes')

